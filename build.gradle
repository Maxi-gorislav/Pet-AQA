plugins {
    id "io.qameta.allure" version "2.10.0"
}
apply plugin: 'java'
apply from: "gradle/dependencies.gradle"
apply plugin: 'checkstyle'

checkstyle {
    toolVersion = '8.36.1'
    configFile = file("${rootProject.rootDir}/config/checkstyle/checkstyle.xml")
    sourceSets = [sourceSets.main]
}

check.dependsOn checkstyleMain

allure {
    version = allureVer
    boolean clean = true
    useJUnit5 {
        version = allureVer
    }
}

test {
    useJUnitPlatform()
    finalizedBy 'allureReport'
}